<div class="customers">
  <div class="card p-0">
    <div class="card card-stats p-0">
      <div class="card-body row p-4 customers__container">
        <div class="stats p-3 col-12 col-lg-12">Members</div>

        <div class="col-12 col-lg-4 p-2">
          <span class="form-control-feedback">
            <img src="../../../assets/images/Icon feather-search.png" alt="" />
          </span>
          <input
            type="search"
            [(ngModel)]="customers.searchValue"
            placeholder="Enter customer name or phone number"
            class="form-group form-control customers__container__input"
          />
        </div>

        <div class="stats pt-3 col-12 filter pb-4">Filters</div>

        <div
          class="col-12 customers__container__buttons"
          *ngIf="filters.length != 0 && loaded"
        >
          <img src="../../../assets/images/Component 6 – 1.png" alt="" />

          <div class="d-grid">
            <div style="display: -webkit-inline-box" class="row">
              <div
                class="dropdown col-12 mb-3"
                *ngFor="let item of filters; let j = index"
              >
                <button type="button" class="btn col-12 filter-btn disable">
                  {{ item.column }}
                </button>
                <button type="button" class="btn col-12 filter-btn disable">
                  {{ item.condition }}
                </button>
                <button type="button" class="btn col-12 filter-btn disable">
                  {{ item.value }}
                </button>

                <button
                  type="button"
                  class="btn col-12 filter-btn"
                  (click)="deleteFilterItem(j)"
                >
                  <span class="pr-2">
                    <i class="far fa-trash-alt"></i>
                  </span>
                  Delete filter
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="col-12 customers__container__buttons">
          <img src="../../../assets/images/Component 6 – 1.png" alt="" />

          <div class="d-grid">
            <div style="display: -webkit-inline-box">
              <div class="dropdown" *ngIf="!addAnother">
                <button
                  type="button"
                  class="btn col-12 filter-btn"
                  id="dropdownMenuB"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  {{ selectText }}
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuB">
                  <span>
                    <img
                      src="../../../assets/images/Icon feather-search.png"
                      alt=""
                    />
                  </span>
                  <input
                    class="form-control"
                    type="text"
                    name="search"
                    [(ngModel)]="searchText"
                    autocomplete="off"
                    placeholder="Search Trips"
                  />
                  <p>All properties</p>
                  <hr />
                  <a
                    class="dropdown-item"
                    (click)="searchTextVal(item.name, item.column)"
                    *ngFor="let item of probs | filter: searchText"
                    >{{ item.name }}</a
                  >
                </div>
              </div>

              <div class="dropdown" *ngIf="showFilter && !addAnother">
                <button
                  type="button"
                  class="btn col-12 filter-btn"
                  id="drop2"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  {{ selectCondition }}
                </button>
                <div class="dropdown-menu" aria-labelledby="drop2">
                  <p>Pick a</p>
                  <hr />
                  <a
                    class="dropdown-item"
                    (click)="searchIconVal(item.condition)"
                    *ngFor="let item of Pick"
                  >
                    {{ item.condition }} &nbsp; &nbsp; {{ item.name }}
                  </a>
                </div>
              </div>

              <div
                class="input-group date-picker-input"
                *ngIf="showFilterTwo && showDatePicker && !addAnother"
              >
                <input
                  class="form-control"
                  placeholder="Mar 2,2020"
                  name="dp"
                  [(ngModel)]="start"
                  ngbDatepicker
                  #d="ngbDatepicker"
                  (click)="d.toggle()"
                  readonly="readonly"
                  (ngModelChange)="dateSelected()"
                />
                <div class="input-group-append">
                  <button
                    class="btn btn-outline-secondary calendar analytics__cards__chart__calendar"
                    (click)="d.toggle()"
                    type="button"
                  >
                    <span class="calendar-icon">
                      <i class="far fa-calendar-alt"></i>
                    </span>
                  </button>
                </div>
              </div>

              <div
                class="dropdown"
                *ngIf="!showDatePicker && showFilterTwo && !addAnother"
              >
                <button
                  type="button"
                  class="btn col-12 filter-btn"
                  id="drop3"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  {{ rangeValue }}
                </button>
                <div class="dropdown-menu" aria-labelledby="drop3">
                  <p>Pick punch range</p>
                  <hr />
                  <a
                    class="dropdown-item"
                    (click)="searchPickVal(item.value)"
                    *ngFor="let item of PickRange"
                  >
                    {{ item.value }}
                  </a>
                  <hr />
                  <div class="custom">
                    <input
                      type="text"
                      placeholder="Custom"
                      [(ngModel)]="inputValue"
                      (keyup)="searchPickVal(inputValue)"
                    />
                  </div>
                </div>
              </div>

              <button
                type="button"
                class="btn col-12 filter-btn apply-filter"
                *ngIf="showFilterPick && !addAnother"
                (click)="applyFilter()"
              >
                Apply filter
              </button>

              <button
                type="button"
                class="btn col-12 filter-btn"
                *ngIf="showFilter && !addAnother"
                (click)="addAnotherFilter()"
              >
                <span class="pr-2">
                  <i class="far fa-trash-alt"></i>
                </span>
                Delete filter
              </button>
            </div>

            <a *ngIf="addAnother" (click)="addAnotherFilter()">
              <img
                src="../../../assets/images/Icon ionic-ios-add-circle-outline.png"
                alt=""
              />
              Add another filter
            </a>
          </div>
        </div>

        <div class="stats pt-3 col-12 actions pb-4">actions</div>
        <div class="actions mb-4">
          <button type="button" class="btn">Puch Notications</button>
          <button type="button" class="btn">Send A Reward</button>
          <button type="button" class="btn">Add Punches</button>
          <button type="button" class="btn">Export</button>
        </div>
      </div>
      <div class="customers__dataTable table-responsive">
        <div id="scrollableContent">
          <app-data-table
            [customers]="customers"
            (customersLoaded)="onCustomerLoad($event)"
          ></app-data-table>
        </div>
      </div>
    </div>
  </div>
</div>
